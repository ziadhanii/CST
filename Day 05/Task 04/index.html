<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      div {
        max-width: 600px;
        margin: 20px auto;
      }

      input {
        padding: 6px;
        width: 70%;
      }

      button {
        padding: 6px 10px;
        cursor: pointer;
      }

      table {
        width: 100%;
        margin-top: 15px;
        border-collapse: collapse;
      }

      th,
      td {
        border: 1px solid #ccc;
        padding: 8px;
      }

      th {
        color: white;
        background-color: red;
      }

      .done {
        text-decoration: line-through;
        color: gray;
      }

      .even-row {
        background-color: #ffdfdf;
      }
    </style>
  </head>

  <body>
    <div>
      <h2>TO DO ORGANIZER</h2>

      <div>
        <input type="text" id="Input" placeholder="Enter task" />
        <button id="addBtn">Add</button>
      </div>

      <table>
        <thead>
          <tr>
            <th>Done</th>
            <th>Task</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tbody id="taskBody"></tbody>
      </table>
    </div>

    <script>
      var addBtn = document.getElementById("addBtn");
      var Input = document.getElementById("Input");
      var tbody = document.getElementById("taskBody");

      function refreshRows() {
        var rows = tbody.children;

        for (var i = 0; i < rows.length; i++) {
          rows[i].className = "";
          if (i % 2 !== 0) {
            rows[i].className = "even-row";
          }
        }
      }

      function addTask() {
        var value = Input.value.trim();

        if (value === "") {
          alert("Please enter a task");
          return;
        }

        var rows = tbody.querySelectorAll("tr");

        for (var i = 0; i < rows.length; i++) {
          var taskText = rows[i].children[1].innerText;

          if (taskText.toLowerCase() === value.toLowerCase()) {
            alert("Task already exists");
            return;
          }
        }

        var tr = document.createElement("tr");

        var td1 = document.createElement("td");
        var td2 = document.createElement("td");
        var td3 = document.createElement("td");

        var checkbox = document.createElement("input");
        checkbox.type = "checkbox";

        td1.appendChild(checkbox);

        td2.innerText = value;

        var deleteBtn = document.createElement("button");
        deleteBtn.innerText = "Delete";

        td3.appendChild(deleteBtn);

        tr.appendChild(td1);
        tr.appendChild(td2);
        tr.appendChild(td3);

        tbody.appendChild(tr);

        Input.value = "";
        Input.focus();

        refreshRows();
      }

      addBtn.addEventListener("click", addTask);

      tbody.addEventListener("change", function (e) {
        if (e.target.type === "checkbox") {
          var taskTd = e.target.parentElement.nextElementSibling;
          taskTd.classList.toggle("done");
        }
      });

      tbody.addEventListener("click", function (e) {
        if (e.target.nodeName === "BUTTON") {
          var ok = confirm("Are you sure you want to delete this task?");

          if (!ok) return;

          e.target.parentElement.parentElement.remove();
          refreshRows();
        }
      });
    </script>
  </body>
</html>
